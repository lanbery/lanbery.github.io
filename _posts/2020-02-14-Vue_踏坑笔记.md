---
layout:     post
title:      Vue,Vuex,Webpack...
subtitle:   踏坑笔记
date:       2020-02-14
author:     lanbery
header-img: img/post-bg-hacker.jpg
catalog: true
tags:
    - program language
    
---

> developer
> Vue 

# Vue Router

> Vue 官方推荐的路由

## 坑

> 传参

  - this.$router.push 和this.$route.params  头一次用容易忽略
  - param 传参  用name:"" 不要用 path

```js
  this.$router.push({
    // path:`/domain/regist`,
    name:"domain.regist",
    params:{
      id:this.searchText
    }
  })
```

## 代理

> config/dev.env.js API 

> config/index.js 


``` js
  '/api':{
    target: 'http://39.99.198.143/api',
    changeOrigin: true,
    pathRewrite:{
      '^/api':''
    }
  },
  '/apps': {
    target: 'http://47.113.87.58/apps',
    changeOrigin: true,
    pathRewrite: {
      '^/apps': ''
    }
  }
```

> dev.env.js 

```js
module.exports = merge(prodEnv, {
  NODE_ENV: '"development"',
  VUE_APP_BASE_API: '""'
})
```

# 引入外部js CDN

  - import npm package for develop
  - config external [vue-cli2,vue-cli3]
  - index.html  add scripts
  - main js or App.vue import modules

## add npm package 

```bash
yarn add vue@2.6.11
yarn add vue-router@3.1.3
```

这里的版本要和index.html中一致

## 配置webpack打包处理

### vue-cli2 

> build/webpack.base.conf.js 

``` js
  externals:{
    'vue': 'Vue',
    'element-ui': 'ElementUI'
  }

```

### vue-cli3 

```js
module.exports = {
  configureWebpack:{
    externals: {
      'vue': 'Vue',
      'element-ui': 'ElementUI'
    }
  }
}

```

注意：在上述代码中，'vue': 'Vue' 对应形式为 key : value，其中 key 为项目中引用的名称，而 value 是库暴露出来的全局对象名。

### 注释import及Vue.use(xxx)

```js
// import Vue from 'vue'
// import ElementUI from 'element-ui'
// import 'element-ui/lib/theme-chalk/index.css'
import App from './App'

Vue.config.productionTip = false

```

注：使用 eslint 规则的项目请不要注释 import 及 Vue.use，除非你不使用那烦人的 eslint。


### index.html 

``` scripts 
    <script src="//cdn.bootcss.com/vue/2.6.11/vue.min.js"></script>
    <script src="//cdn.bootcss.com/vue-router/3.1.3/vue-router.min.js"></script>

```

https://blog.csdn.net/xuqipeter/article/details/80452271
