---
layout:     post
title:      NodeJs
subtitle:   blockchain
date:       2019-07-09
author:     lanbery
header-img: img/post-bg-hacker.jpg
catalog: true
tags:
    - program language
    
---

> Nodejs
> 

-----
# Nodejs 开发环境


## Centos7 NodeJs

### yum
  yum install nodejs npm // 不推荐，不是最新版本

### 官网下载对应OS 编译包
操作步骤：

   - wget https://nodejs.org/dist/v10.16.0/node-v10.16.0-linux-x64.tar.xz
   - xz -d node-v*
   - tar -xf node
   - mv node* /usr/local/nodejs/v10.16 //移动到你的管理目录
   - ln -s 创建软链接
     - ln -s /usr/local/nodejs/v10.16/bin/node /usr/bin/node
     - ln -s ***/npm  /usr/bin/npm
   - complete 验证
     - node -v
     - npm -v


## NPM node package manager
方便让JavaScript开发者下载、安装、上传以及管理已经安装的包.

### npm install

  npm install -h 帮助命令
  npm install [<@scope>/]<pkg>@<version range>


### npm init 初始化项目 package.json


### npm ls


### package.json 语法
<a href="http://mujiang.info/translation/npmjs/files/package.json.html" target="mujiang.info">Package.json 语法</a>


常用的：

   
	{
	  "name": "st-koa-web",  //最重要的就是name和version字段。他们都是必须的，如果没有就无法install
	  "version": "1.0.0",
	  "description": "koa-study",
	  "main": "./src/app.js", //main字段配置一个文件名指向模块的入口程序。如果你包的名字叫foo，然后用户require("foo")，main配置的模块的exports对象会被返回。这应该是一个相对于根目录的文件路径。
	  "scripts": { //是一个由脚本命令组成的hash对象，他们在包不同的生命周期中被执行。key是生命周期事件，value是要运行的命令
	    "test": "test"
	  },
	  "config":{  //hash可以用来配置用于包脚本中的跨版本参数
    	"port":"8080"
	  },//然后有一个“start”命令引用了npm_package_config_port环境变量，用户可以通过npm config set foo:port 8001来重写他
	  "repository": {  //指定你的代码存放的地方
	    "type": "git",
	    "url": "git@lanbery:wiki-study/st-koa-web.git"
	  },
	  "author": "lanbery",
	  "license": "ISC",
	  "dependencies": {  //依赖是给一组包名指定版本范围的一个hash
	    "koa": "^2.7.0",
	    "web3": "^1.0.0-beta.55"
	  }
	}

### NB 的scripts 配置


    {
      // ...
      "scripts": {
        "build": "node build.js"
      }
    }


    build命令对应的脚本是node build.js。
	命令行下使用npm run命令，就可以执行这段脚本。

	$ npm run build
	# 等同于执行
	$ node build.js

常用的配置

   {
		//...
		"scripts":{
			"start":"node ./src/app.js"
		}

   }








